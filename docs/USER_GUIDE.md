# 住宅ローン電卓 ユーザーガイド

## はじめに

この住宅ローン電卓は、不動産営業やファイナンシャルプランナー（FP）の現場で使える無料ツールです。お客様との商談中に、その場で素早く住宅ローンのシミュレーションを行えます。

**主な特徴**:
- ✅ ユーザー登録不要
- ✅ 完全無料（基本機能）
- ✅ スマホ・タブレット・PC対応
- ✅ 計算結果をブラウザに保存（履歴管理）
- ✅ オフラインでも動作

---

## 目次

1. [基本機能](#基本機能)
2. [ローン計算（借入額から計算）](#ローン計算借入額から計算)
3. [逆算機能（返済額から計算）](#逆算機能返済額から計算)
4. [ボーナス払いの設定](#ボーナス払いの設定)
5. [簡易電卓](#簡易電卓)
6. [NISA複利計算ツール](#nisa複利計算ツール)
7. [履歴管理](#履歴管理)
8. [トラブルシューティング](#トラブルシューティング)

---

## 基本機能

### 3つのツールモード

画面上部のタブで切り替えて使用できます：

1. **住宅ローン** - ローン返済シミュレーション
2. **簡易電卓** - メモリ機能付き電卓
3. **資産運用** - NISA複利計算シミュレーション

---

## ローン計算（借入額から計算）

借入金額から月々の返済額を計算します。

### 使い方

#### 1. 画面上部で「借入額から計算」を選択

デフォルトで選択されています。

#### 2. 借入金額を入力

- **単位**: 万円
- **入力方法**:
  - テキスト入力（例：5000万円 → `5000` と入力）
  - ▲/▼ボタン（100万円ずつ調整）
- **デフォルト値**: 5000万円

**入力例**:
```
借入金額: 5000 万円
→ 内部では 50,000,000円として計算
```

#### 3. 金利を入力

- **単位**: %（年利）
- **入力方法**:
  - テキスト入力（例：1.5%）
  - ▲/▼ボタン（0.01%ずつ調整）
- **デフォルト値**: 1.0%
- **小数点**: 2桁まで表示（例：1.50%）

#### 4. 返済期間を入力

- **年数**: 1年〜50年
- **月数**: 0ヶ月〜11ヶ月
- **例**: 35年6ヶ月 → 年: 35, 月: 6

#### 5. 返済方式を選択

- **元利均等**: 月々の返済額が一定（一般的）
- **元金均等**: 元金部分が一定（利息が減っていく）

#### 6. （オプション）ボーナス払いを設定

詳細は [ボーナス払いの設定](#ボーナス払いの設定) を参照

#### 7. 「計算する」ボタンをクリック

### 計算結果の見方

#### サマリー表示

- **月々の返済額**: 通常月の返済額
- **ボーナス月の返済額**: ボーナス払い設定時のみ表示
- **総返済額**: 元金 + 利息の合計
- **利息総額**: 支払う利息の総額

#### 返済計画表

「返済計画表を表示」をクリックすると、毎月の詳細が表示されます：

- **年月**: 返済月
- **返済額**: その月の返済額
- **元金**: 元金部分
- **利息**: 利息部分
- **残高**: ローン残高

**Tips**:
- スクロールして全期間を確認できます
- ボーナス月は背景色が変わります

---

## 逆算機能（返済額から計算）

月々の返済額から、借入可能額を逆算します。

### 使い方

#### 1. 画面上部で「返済額から計算」を選択

#### 2. 月々の返済額を入力

- **単位**: 円
- **入力方法**:
  - テキスト入力（例：150,000円）
  - ▲/▼ボタン（1万円ずつ調整）
- **デフォルト値**: 150,000円

#### 3. 金利・返済期間・返済方式を入力

通常計算と同じです。

#### 4. （オプション）ボーナス払いを設定

- ボーナス月の加算額を入力
- 年2回（1月・8月）のボーナス払いに対応

#### 5. 「計算する」ボタンをクリック

### 計算結果の見方

- **借入可能額**: 月々の返済額で借りられる金額
- **（内ボーナス○○万円）**: ボーナス払い設定時、ボーナス分の借入額を表示
- **総返済額**: 返済総額
- **利息総額**: 支払う利息

**活用シーン**:
- お客様が「月15万円まで返済できる」と言った場合
- 年収から返済可能額を逆算する場合

---

## ボーナス払いの設定

### 通常計算（借入額から）のボーナス設定

#### 1. 「ボーナス払いを使用する」にチェック

#### 2. ボーナス加算額を入力

- **単位**: 万円
- **デフォルト**: 1500万円
- **意味**: ボーナス払いで支払う元本の総額

**計算ロジック**:
```
通常ローン元本 = 借入金額 - ボーナス加算額
ボーナス元本 = ボーナス加算額

例:
借入金額: 5000万円
ボーナス加算額: 1500万円
→ 通常ローン: 3500万円（毎月返済）
→ ボーナスローン: 1500万円（年2回返済）
```

#### 3. ボーナス月は自動設定

- **1月**（冬のボーナス）
- **8月**（夏のボーナス）

に固定されています。

### 逆算のボーナス設定

#### 1. 「ボーナス払いを使用する」にチェック

#### 2. ボーナス月の加算額を入力

- **単位**: 万円
- **デフォルト**: 20万円
- **意味**: ボーナス月に通常返済額に上乗せする金額

**計算例**:
```
月々の返済額: 15万円
ボーナス加算額: 20万円

→ 通常月: 15万円/月（12ヶ月 × 返済年数）
→ ボーナス月: 15万円 + 20万円 = 35万円/月（年2回）

借入可能額 = 通常分 + ボーナス分
```

---

## 簡易電卓

営業中の素早い計算に使える電卓機能です。

### 使い方

#### 1. 画面上部で「簡易電卓」タブを選択

#### 2. 数字と演算子をクリック

- **数字**: 0〜9, 00（大きな金額入力用）
- **演算子**: +, -, ×, ÷
- **その他**: . （小数点）

#### 3. 「=」で計算実行

または **Enterキー** でも実行できます。

### キーボード操作

- **数字**: 0〜9キー
- **演算子**: +, -, *, / キー
- **実行**: Enter / = キー
- **クリア**: Escape キー
- **削除**: Backspace キー

### メモリ機能

不動産計算でよく使う「合計」の計算に便利です。

| ボタン | 機能 | 使用例 |
|--------|------|--------|
| **M+** | メモリに加算 | 複数の面積を合計する |
| **M-** | メモリから減算 | 控除額を引く |
| **MR** | メモリを呼び出し | 合計を表示 |
| **MC** | メモリをクリア | 計算やり直し |

**活用例（坪数計算）**:
```
1. 50 × 3.3 = 165 (50坪 → 平米)
2. M+ (メモリに保存)
3. 30 × 3.3 = 99 (30坪 → 平米)
4. M+ (メモリに加算)
5. MR → 264 (合計面積)
```

### 計算履歴

- ACボタンを押すまで、過去の計算式と結果が表示されます
- 履歴の数字をクリックすると、その値を再利用できます

---

## NISA複利計算ツール

毎月の積立投資のシミュレーションができます。

### 使い方

#### 1. 画面上部で「資産運用」タブを選択

#### 2. 月々の積立額を入力

- **単位**: 万円
- **デフォルト**: 3万円
- **NISA上限**: つみたてNISA 月33,333円（年40万円）、新NISA 月30万円（年360万円）

#### 3. 想定利回りを入力

- **単位**: %（年利）
- **デフォルト**: 5.0%
- **参考値**:
  - 国内株式: 3〜5%
  - 先進国株式: 5〜7%
  - 新興国株式: 7〜10%
  - 債券: 2〜3%

#### 4. 積立期間を入力

- **単位**: 年
- **デフォルト**: 20年

#### 5. （オプション）初期投資額を入力

すでに持っている資金を運用する場合に入力します。

#### 6. 「計算する」ボタンをクリック

### 計算結果の見方

#### サマリー表示

- **総積立額（元本）**: 自分が積み立てた金額
- **運用益**: 複利効果で増えた金額
- **最終資産額**: 元本 + 運用益

#### グラフ表示

- **折れ線グラフ**: 年ごとの資産推移
  - 青線: 累計元本
  - 緑線: 運用後資産額
- **棒グラフ**: 元本と運用益の内訳

### 有料版への誘導

計算結果の下に、以下の有料版機能の案内が表示されます：

- 繰上返済との詳細比較
- PDF出力機能

**有料版でできること**:
- 「この積立額を繰上返済に回した場合」との比較
- 利息軽減効果とNISA運用益を並べて提示
- 顧客提案書としてPDF出力

---

## 履歴管理

過去の計算結果を確認・再利用できます。

### 履歴の保存

- 計算実行時に自動的にブラウザに保存されます
- **保存場所**: ブラウザのlocalStorage（端末内のみ）
- **最大件数**: 20件（古いものから自動削除）

### 履歴の確認

#### 1. 画面右上の「履歴」ボタンをクリック

または、ヘッダーメニューから「履歴」を選択

#### 2. 履歴一覧が表示されます

各履歴には以下の情報が表示されます：
- 計算日時
- 借入金額（または月々返済額）
- 金利
- 返済期間
- 月々の返済額（または借入可能額）

#### 3. 履歴をクリックして再利用

クリックすると、その条件で再計算できます。

### 履歴の削除

- **個別削除**: 各履歴の「削除」ボタン
- **全削除**: 「全てクリア」ボタン

### プライバシーについて

**重要**: 履歴は完全にローカル保存です

- ✅ あなたの端末のブラウザ内のみに保存
- ✅ サーバーには一切送信されません
- ✅ 他のユーザーには見えません
- ✅ 同じPCでも別のブラウザでは見えません

⚠️ **注意点**:
- ブラウザのキャッシュをクリアすると履歴も消えます
- 共有PCで使用する場合は、使用後に「全てクリア」推奨

---

## トラブルシューティング

### Q: 計算結果が表示されない

**確認事項**:
1. 全ての入力項目が埋まっていますか？
2. 金利が0%以上になっていますか？
3. 返済期間が1年以上になっていますか？
4. ブラウザのJavaScriptが有効になっていますか？

### Q: 計算結果が実際のローンと異なる

**考えられる原因**:
- 金融機関独自の手数料や保険料は含まれていません
- 金利タイプ（固定/変動）の違い
- 端数処理の違い（当ツールは四捨五入）

**精度について**:
- 日本の金融機関で使われる標準的な計算式を使用
- 実際のローン返済額との誤差は通常1%未満

### Q: 履歴が消えた

**原因**:
- ブラウザのキャッシュクリア
- プライベートブラウジングモード（シークレットモード）での使用
- 別のブラウザ・端末での閲覧

**対策**:
- 重要な計算結果はスクリーンショット推奨
- 有料版ではクラウド同期機能があります

### Q: スマホで操作しにくい

**確認事項**:
- ピンチイン/アウトで拡大縮小できます
- 横向き表示も対応しています
- タブレットでの使用がより快適です

### Q: 計算が遅い

**確認事項**:
- 返済期間が50年など極端に長い場合、計算に時間がかかります
- 古いスマホ・PCでは処理に数秒かかる場合があります
- ブラウザの再起動をお試しください

---

## 有料版について

### 有料版で追加される機能

現在開発中の有料版（月額 ¥980）では、以下の機能が使えるようになります：

#### FP機能
- **ライフプランシミュレーション** - 家族のライフイベントを反映
- **家計収支シミュレーション** - 詳細な収支分析
- **資産運用シミュレーション** - ポートフォリオ分析
- **保険設計シミュレーション** - 必要保障額の計算

#### 比較機能
- **繰上返済シミュレーション** - 期間短縮 vs 返済額軽減
- **複数ローン比較** - 最大5件の条件を並べて比較
- **NISA vs 繰上返済比較** - どちらが得か一目でわかる

#### その他
- **PDF出力・印刷** - 提案書として印刷
- **クラウド同期** - 複数端末でデータ共有
- **モバイルアプリ** - Android/iOS対応

### 無料版と有料版の違い

| 機能 | 無料版 | 有料版 |
|------|--------|--------|
| 住宅ローン計算 | ✅ | ✅ |
| 逆算機能 | ✅ | ✅ |
| ボーナス払い | ✅ | ✅ |
| 簡易電卓 | ✅ | ✅ |
| NISA複利計算 | ✅ | ✅ |
| 履歴管理（最大20件） | ✅ | - |
| 履歴管理（無制限） | - | ✅ |
| ライフプラン機能 | - | ✅ |
| 繰上返済比較 | - | ✅ |
| 複数ローン比較 | - | ✅ |
| PDF出力 | - | ✅ |
| クラウド同期 | - | ✅ |
| モバイルアプリ | - | ✅ |

---

## お問い合わせ

### フィードバック・バグ報告

GitHub Issuesでお待ちしています：
https://github.com/anthropics/claude-code/issues

### サポート

- メール: support@loan-calculator.example.com
- 営業時間: 平日 9:00-18:00

---

## ライセンス・プライバシー

### データの取り扱い

- **無料版**: 全てのデータはあなたの端末内のみに保存
- **有料版**: Supabase（PostgreSQL）を使用、暗号化して保存
- **個人情報**: メールアドレスのみ（有料版ログイン時）
- **外部送信**: 無料版は一切なし、有料版はSupabase・Stripeのみ

### プライバシーポリシー

詳細は以下をご確認ください：
https://loan-calculator.example.com/privacy

---

**最終更新**: 2025-10-21
**バージョン**: 1.0（無料版）
