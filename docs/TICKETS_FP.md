# FPæ©Ÿèƒ½ãƒã‚±ãƒƒãƒˆä¸€è¦§ - ä¸¦è¡Œé–‹ç™ºå¯¾å¿œ

Phase 10-18ï¼ˆæœ‰æ–™ç‰ˆï¼‰ã®è©³ç´°ãƒã‚±ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ 

**ç›®çš„**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã”ã¨ã«ç‹¬ç«‹ã—ãŸé–‹ç™ºã‚¿ã‚¹ã‚¯ã‚’å®šç¾©ã—ã€Subagentï¼ˆTask toolï¼‰ã«ã‚ˆã‚‹ä¸¦è¡Œé–‹ç™ºã‚’å¯èƒ½ã«ã™ã‚‹

---

## ãƒã‚±ãƒƒãƒˆã‚µãƒãƒªãƒ¼

| Phase | ãƒã‚±ãƒƒãƒˆæ•° | ä¸¦åˆ—å¯èƒ½ | è¦‹ç©ï¼ˆåˆè¨ˆï¼‰ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-------|-----------|---------|------------|-----------|
| Phase 10 | 3 | 3 | 4æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 11 | 4 | 3 | 30-35æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 12 | 5 | 4 | 18-22æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 13 | 5 | 4 | 36-42æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 14 | 4 | 3 | 24-30æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 15 | 4 | 3 | 30-36æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 16 | 4 | 3 | 24-30æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 17 | 4 | 3 | 36-42æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| Phase 18 | 4 | 2 | 36-42æ™‚é–“ | â¬œ æœªç€æ‰‹ |
| **åˆè¨ˆ** | **37** | **28** | **238-283æ™‚é–“** | |

**ä¸¦è¡Œé–‹ç™ºåŠ¹ç‡**: 28ãƒã‚±ãƒƒãƒˆï¼ˆ76%ï¼‰ãŒä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

## Phase 10: ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ â¬œ (1æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1001 (USER_GUIDE.md) ğŸ¤– (2h)
â”œâ”€ Agent 2: TICKET-1002 (FAQ.md) ğŸ¤– (1h)
â””â”€ Agent 3: TICKET-1003 (README.mdæ›´æ–°) ğŸ¤– (1h)
```

**åˆè¨ˆ**: 3ãƒã‚±ãƒƒãƒˆã€å…¨ã¦ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1001: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ä½œæˆ

**å„ªå…ˆåº¦**: ğŸŸ¢ ä¸­
**è¦‹ç©**: 2æ™‚é–“
**ä¾å­˜**: ãªã—
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `docs/USER_GUIDE.md` ä½œæˆ
- [ ] ç„¡æ–™ç‰ˆã®ä½¿ã„æ–¹ï¼ˆãƒ­ãƒ¼ãƒ³è¨ˆç®—ãƒ»ç°¡æ˜“é›»å“ï¼‰
- [ ] é€†ç®—æ©Ÿèƒ½ã®ä½¿ã„æ–¹
- [ ] ãƒœãƒ¼ãƒŠã‚¹æ‰•ã„ã®è¨­å®šæ–¹æ³•
- [ ] å±¥æ­´ç®¡ç†ã®ä½¿ã„æ–¹
- [ ] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä»˜ãè§£èª¬

**æˆæœç‰©**:
- `docs/USER_GUIDE.md`

**å®Ÿè£…ä¾‹**:
```markdown
# ä½å®…ãƒ­ãƒ¼ãƒ³é›»å“ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰

## ã¯ã˜ã‚ã«

ã“ã®ä½å®…ãƒ­ãƒ¼ãƒ³é›»å“ã¯ã€ä¸å‹•ç”£å–¶æ¥­ã®ç¾å ´ã§ä½¿ãˆã‚‹ç„¡æ–™ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## åŸºæœ¬æ©Ÿèƒ½

### 1. ãƒ­ãƒ¼ãƒ³è¨ˆç®—ï¼ˆå€Ÿå…¥é¡ã‹ã‚‰è¨ˆç®—ï¼‰

1. **å€Ÿå…¥é‡‘é¡**ã‚’å…¥åŠ›ï¼ˆä¸‡å††å˜ä½ï¼‰
2. **é‡‘åˆ©**ã‚’å…¥åŠ›ï¼ˆå¹´åˆ©ã€ä¾‹ï¼š1.50%ï¼‰
3. **è¿”æ¸ˆæœŸé–“**ã‚’é¸æŠï¼ˆå¹´ãƒ»æœˆï¼‰
4. **è¿”æ¸ˆæ–¹å¼**ã‚’é¸æŠï¼ˆå…ƒåˆ©å‡ç­‰ or å…ƒé‡‘å‡ç­‰ï¼‰
5. ã€Œè¨ˆç®—ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### 2. é€†ç®—æ©Ÿèƒ½ï¼ˆè¿”æ¸ˆé¡ã‹ã‚‰è¨ˆç®—ï¼‰

1. ç”»é¢ä¸Šéƒ¨ã®ã€Œè¿”æ¸ˆé¡ã‹ã‚‰è¨ˆç®—ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **æœˆã€…ã®è¿”æ¸ˆé¡**ã‚’å…¥åŠ›ï¼ˆå††å˜ä½ï¼‰
3. é‡‘åˆ©ãƒ»è¿”æ¸ˆæœŸé–“ã‚’å…¥åŠ›
4. å€Ÿå…¥å¯èƒ½é¡ãŒè¡¨ç¤ºã•ã‚Œã¾ã™

...
```

---

### TICKET-1002: FAQä½œæˆ

**å„ªå…ˆåº¦**: ğŸŸ¢ ä¸­
**è¦‹ç©**: 1æ™‚é–“
**ä¾å­˜**: ãªã—
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `docs/FAQ.md` ä½œæˆ
- [ ] ç„¡æ–™ç‰ˆã«é–¢ã™ã‚‹FAQ
- [ ] æœ‰æ–™ç‰ˆã«é–¢ã™ã‚‹FAQ
- [ ] è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã«é–¢ã™ã‚‹FAQ
- [ ] æŠ€è¡“çš„ãªè³ªå•FAQ
- [ ] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£FAQ

**æˆæœç‰©**:
- `docs/FAQ.md`

**å®Ÿè£…ä¾‹**:
```markdown
# ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰

## ç„¡æ–™ç‰ˆã«ã¤ã„ã¦

### Q: ç„¡æ–™ç‰ˆã¯ã„ã¤ã¾ã§ä½¿ãˆã¾ã™ã‹ï¼Ÿ
A: ç„¡æ–™ç‰ˆã¯ä»Šå¾Œã‚‚ç„¡æ–™ã§ä½¿ã„ç¶šã‘ã‚‰ã‚Œã¾ã™ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã‚‚ä¸è¦ã§ã™ã€‚

### Q: è¨ˆç®—çµæœã®ç²¾åº¦ã¯ï¼Ÿ
A: æ—¥æœ¬ã®é‡‘èæ©Ÿé–¢ã§ä½¿ã‚ã‚Œã‚‹æ¨™æº–çš„ãªè¨ˆç®—å¼ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€å®Ÿéš›ã®ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆé¡ã¨ã»ã¼ä¸€è‡´ã—ã¾ã™ã€‚

### Q: å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã¯ã©ã“ã«ä¿å­˜ã•ã‚Œã¾ã™ã‹ï¼Ÿ
A: ãƒ–ãƒ©ã‚¦ã‚¶ã®localStorageã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¦‹ãˆã¾ã›ã‚“ã€‚

## æœ‰æ–™ç‰ˆã«ã¤ã„ã¦

### Q: æœ‰æ–™ç‰ˆã®æ–™é‡‘ã¯ï¼Ÿ
A: æœˆé¡ Â¥980ï¼ˆç¨è¾¼ï¼‰ã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³åˆ¶ã§ã™ã€‚

### Q: æœ‰æ–™ç‰ˆã§ä½•ãŒã§ãã¾ã™ã‹ï¼Ÿ
A: ä»¥ä¸‹ã®æ©Ÿèƒ½ãŒä½¿ãˆã¾ã™ï¼š
- ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- å®¶è¨ˆåæ”¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- è³‡ç”£é‹ç”¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ä¿é™ºè¨­è¨ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ç¹°ä¸Šè¿”æ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- è¤‡æ•°ãƒ­ãƒ¼ãƒ³æ¯”è¼ƒ
- PDFå‡ºåŠ›ãƒ»å°åˆ·
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª

...
```

---

### TICKET-1003: README.mdæ›´æ–°

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 1æ™‚é–“
**ä¾å­˜**: ãªã—
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `README.md` æ›´æ–°
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’æ›´æ–°ï¼ˆç„¡æ–™ç‰ˆãƒ»æœ‰æ–™ç‰ˆã®èª¬æ˜ï¼‰
- [ ] æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã«Supabaseãƒ»Stripeã‚’è¿½åŠ 
- [ ] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã‚’æ›´æ–°
- [ ] ç’°å¢ƒå¤‰æ•°ã®èª¬æ˜ã‚’è¿½åŠ ï¼ˆSupabaseãƒ»Stripeï¼‰
- [ ] ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †ã‚’æ›´æ–°

**æˆæœç‰©**:
- æ›´æ–°ã•ã‚ŒãŸ `README.md`

**å®Ÿè£…ä¾‹**:
```markdown
# ä½å®…ãƒ­ãƒ¼ãƒ³é›»å“ â†’ FPãƒ„ãƒ¼ãƒ«ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

ä¸å‹•ç”£å–¶æ¥­å‘ã‘ã®ä½å®…ãƒ­ãƒ¼ãƒ³è¨ˆç®—ãƒ„ãƒ¼ãƒ«ã‹ã‚‰ã€ç·åˆçš„ãªFPï¼ˆãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚·ãƒ£ãƒ«ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ï¼‰ãƒ„ãƒ¼ãƒ«ã¸é€²åŒ–ä¸­ã€‚

## æ©Ÿèƒ½

### ç„¡æ–™ç‰ˆï¼ˆPhase 1-9ï¼‰âœ…
- ä½å®…ãƒ­ãƒ¼ãƒ³è¨ˆç®—ï¼ˆå…ƒåˆ©å‡ç­‰ãƒ»å…ƒé‡‘å‡ç­‰ï¼‰
- é€†ç®—æ©Ÿèƒ½ï¼ˆè¿”æ¸ˆé¡ã‹ã‚‰å€Ÿå…¥å¯èƒ½é¡ã‚’ç®—å‡ºï¼‰
- ãƒœãƒ¼ãƒŠã‚¹æ‰•ã„å¯¾å¿œ
- ç°¡æ˜“é›»å“ï¼ˆãƒ¡ãƒ¢ãƒªæ©Ÿèƒ½ä»˜ãï¼‰
- è¨ˆç®—å±¥æ­´ç®¡ç†ï¼ˆlocalStorageï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

### æœ‰æ–™ç‰ˆï¼ˆPhase 10-18ï¼‰â¬œ é–‹ç™ºäºˆå®š
- ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- å®¶è¨ˆåæ”¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- è³‡ç”£é‹ç”¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ä¿é™ºè¨­è¨ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ç¹°ä¸Šè¿”æ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- è¤‡æ•°ãƒ­ãƒ¼ãƒ³æ¯”è¼ƒ
- PDFå‡ºåŠ›ãƒ»å°åˆ·
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªï¼ˆAndroid/iOSï¼‰

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Phase 1-9ï¼ˆç„¡æ–™ç‰ˆï¼‰
- Frontend: React 18 + Vite + TypeScript
- Styling: Tailwind CSS
- State: React Context API
- Storage: localStorage
- Testing: Vitest + React Testing Library

### Phase 10-18ï¼ˆæœ‰æ–™ç‰ˆï¼‰
- Backend: **Supabase** (PostgreSQL, Auth, Storage, RLS)
- Payment: **Stripe** (Subscription management)
- Auth: Email + Social Login (Google, Apple, LINE)
- State: React Query + Context API
- Charts: Recharts
- PDF: jsPDF + html2canvas
- Mobile: Capacitor

...
```

---

## Phase 11: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ â¬œ (4-5æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
TICKET-1101 (Supabaseã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (4-6h)
    â†“
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1102 (DBã‚¹ã‚­ãƒ¼ãƒ) ğŸ¤– (8-10h)
â”œâ”€ Agent 2: TICKET-1103 (Supabase Auth) ğŸ¤– (8-10h)
â””â”€ Agent 3: TICKET-1104 (Stripeçµ±åˆ) ğŸ¤– (10-12h)
    â†“
TICKET-1105 (ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (4-6h)
```

**åˆè¨ˆ**: 5ãƒã‚±ãƒƒãƒˆã€3ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1101: Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 4-6æ™‚é–“
**ä¾å­˜**: ãªã—
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ`.env`ï¼‰
- [ ] `@supabase/supabase-js` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ– (`src/lib/supabase.ts`)
- [ ] Row Level Security (RLS) æœ‰åŠ¹åŒ–
- [ ] API Keyså–å¾—ãƒ»è¨­å®š

**æˆæœç‰©**:
- Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- `src/lib/supabase.ts`
- æ›´æ–°ã•ã‚ŒãŸ `.env.example`

**å®Ÿè£…ä¾‹**:
```typescript
// src/lib/supabase.ts
import { createClient } from '@supabase/supabase-js';
import type { Database } from '@/types/supabase';

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

if (!supabaseUrl || !supabaseAnonKey) {
  throw new Error('Missing Supabase environment variables');
}

export const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey);
```

```bash
# .env.example
VITE_SUPABASE_URL=your-project-url.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
VITE_STRIPE_PUBLIC_KEY=pk_test_xxx
```

---

### TICKET-1102: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãƒ»å®Ÿè£…

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8-10æ™‚é–“
**ä¾å­˜**: TICKET-1101
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `supabase/migrations/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- [ ] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ« (`profiles`)
- [ ] ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ« (`subscriptions`)
- [ ] ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ç¾¤ (`life_plans`, `life_events`, `cash_flows`)
- [ ] å®¶è¨ˆåæ”¯ãƒ†ãƒ¼ãƒ–ãƒ«ç¾¤ (`household_budgets`, `income_items`, `expense_items`)
- [ ] è³‡ç”£é‹ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«ç¾¤ (`asset_portfolios`, `asset_allocations`)
- [ ] ä¿é™ºè¨­è¨ˆãƒ†ãƒ¼ãƒ–ãƒ«ç¾¤ (`insurance_plans`, `insurance_coverage`)
- [ ] ãƒ­ãƒ¼ãƒ³æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«ç¾¤ (`loan_comparisons`, `loan_scenarios`)
- [ ] Row Level Security (RLS) ãƒãƒªã‚·ãƒ¼è¨­å®š

**æˆæœç‰©**:
- `supabase/migrations/20250101000000_initial_schema.sql`
- `src/types/supabase.ts` (ç”Ÿæˆã•ã‚ŒãŸå‹å®šç¾©)

**å®Ÿè£…ä¾‹**:
```sql
-- supabase/migrations/20250101000000_initial_schema.sql

-- Profiles table
CREATE TABLE public.profiles (
  id UUID REFERENCES auth.users(id) PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  full_name TEXT,
  avatar_url TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Subscriptions table
CREATE TABLE public.subscriptions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  stripe_customer_id TEXT UNIQUE,
  stripe_subscription_id TEXT UNIQUE,
  status TEXT NOT NULL CHECK (status IN ('active', 'canceled', 'past_due', 'unpaid')),
  current_period_start TIMESTAMP WITH TIME ZONE,
  current_period_end TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Life plans table
CREATE TABLE public.life_plans (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  description TEXT,
  start_year INTEGER NOT NULL,
  end_year INTEGER NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Life events table
CREATE TABLE public.life_events (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  life_plan_id UUID REFERENCES public.life_plans(id) ON DELETE CASCADE,
  event_type TEXT NOT NULL,
  event_name TEXT NOT NULL,
  year INTEGER NOT NULL,
  amount NUMERIC(12, 2),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Cash flows table
CREATE TABLE public.cash_flows (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  life_plan_id UUID REFERENCES public.life_plans(id) ON DELETE CASCADE,
  year INTEGER NOT NULL,
  income NUMERIC(12, 2) DEFAULT 0,
  expenses NUMERIC(12, 2) DEFAULT 0,
  savings NUMERIC(12, 2) DEFAULT 0,
  balance NUMERIC(12, 2) DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Enable Row Level Security
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.subscriptions ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.life_plans ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.life_events ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.cash_flows ENABLE ROW LEVEL SECURITY;

-- RLS Policies for profiles
CREATE POLICY "Users can view own profile"
  ON public.profiles FOR SELECT
  USING (auth.uid() = id);

CREATE POLICY "Users can update own profile"
  ON public.profiles FOR UPDATE
  USING (auth.uid() = id);

-- RLS Policies for subscriptions
CREATE POLICY "Users can view own subscription"
  ON public.subscriptions FOR SELECT
  USING (auth.uid() = user_id);

-- RLS Policies for life_plans
CREATE POLICY "Users can view own life plans"
  ON public.life_plans FOR SELECT
  USING (auth.uid() = user_id);

CREATE POLICY "Users can create own life plans"
  ON public.life_plans FOR INSERT
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update own life plans"
  ON public.life_plans FOR UPDATE
  USING (auth.uid() = user_id);

CREATE POLICY "Users can delete own life plans"
  ON public.life_plans FOR DELETE
  USING (auth.uid() = user_id);

-- Functions for updated_at
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_profiles_updated_at
  BEFORE UPDATE ON public.profiles
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER update_subscriptions_updated_at
  BEFORE UPDATE ON public.subscriptions
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER update_life_plans_updated_at
  BEFORE UPDATE ON public.life_plans
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
```

---

### TICKET-1103: Supabaseèªè¨¼çµ±åˆ

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8-10æ™‚é–“
**ä¾å­˜**: TICKET-1101
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/contexts/AuthContext.tsx` ä½œæˆ
- [ ] `src/hooks/useAuth.ts` ä½œæˆ
- [ ] Email/Passwordèªè¨¼å®Ÿè£…
- [ ] Social Loginè¨­å®šï¼ˆGoogle, Apple, LINEï¼‰
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸å®Ÿè£…
- [ ] èªè¨¼çŠ¶æ…‹ã®æ°¸ç¶šåŒ–
- [ ] ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½

**æˆæœç‰©**:
- `src/contexts/AuthContext.tsx`
- `src/hooks/useAuth.ts`
- `src/pages/Login.tsx`
- `src/pages/SignUp.tsx`

**å®Ÿè£…ä¾‹**:
```typescript
// src/contexts/AuthContext.tsx
import React, { createContext, useContext, useEffect, useState } from 'react';
import { supabase } from '@/lib/supabase';
import type { User, Session } from '@supabase/supabase-js';

interface AuthContextType {
  user: User | null;
  session: Session | null;
  loading: boolean;
  signUp: (email: string, password: string) => Promise<void>;
  signIn: (email: string, password: string) => Promise<void>;
  signInWithGoogle: () => Promise<void>;
  signOut: () => Promise<void>;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [session, setSession] = useState<Session | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Get initial session
    supabase.auth.getSession().then(({ data: { session } }) => {
      setSession(session);
      setUser(session?.user ?? null);
      setLoading(false);
    });

    // Listen for auth changes
    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {
      setSession(session);
      setUser(session?.user ?? null);
    });

    return () => subscription.unsubscribe();
  }, []);

  const signUp = async (email: string, password: string) => {
    const { error } = await supabase.auth.signUp({ email, password });
    if (error) throw error;
  };

  const signIn = async (email: string, password: string) => {
    const { error } = await supabase.auth.signInWithPassword({ email, password });
    if (error) throw error;
  };

  const signInWithGoogle = async () => {
    const { error } = await supabase.auth.signInWithOAuth({
      provider: 'google',
      options: {
        redirectTo: `${window.location.origin}/auth/callback`,
      },
    });
    if (error) throw error;
  };

  const signOut = async () => {
    const { error } = await supabase.auth.signOut();
    if (error) throw error;
  };

  return (
    <AuthContext.Provider value={{ user, session, loading, signUp, signIn, signInWithGoogle, signOut }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within AuthProvider');
  }
  return context;
};
```

---

### TICKET-1104: Stripeçµ±åˆ

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 10-12æ™‚é–“
**ä¾å­˜**: TICKET-1101
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] Stripeã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
- [ ] `@stripe/stripe-js` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] Stripe Checkoutå®Ÿè£…
- [ ] Webhookè¨­å®šï¼ˆSupabase Edge Functionï¼‰
- [ ] `src/contexts/SubscriptionContext.tsx` ä½œæˆ
- [ ] `src/hooks/useSubscription.ts` ä½œæˆ
- [ ] ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³çŠ¶æ…‹ç®¡ç†
- [ ] Customer Portalãƒªãƒ³ã‚¯å®Ÿè£…

**æˆæœç‰©**:
- `src/lib/stripe.ts`
- `src/contexts/SubscriptionContext.tsx`
- `src/hooks/useSubscription.ts`
- `supabase/functions/stripe-webhook/index.ts`

**å®Ÿè£…ä¾‹**:
```typescript
// src/lib/stripe.ts
import { loadStripe } from '@stripe/stripe-js';

const stripePublicKey = import.meta.env.VITE_STRIPE_PUBLIC_KEY;

if (!stripePublicKey) {
  throw new Error('Missing Stripe public key');
}

export const stripePromise = loadStripe(stripePublicKey);
```

```typescript
// src/contexts/SubscriptionContext.tsx
import React, { createContext, useContext, useEffect, useState } from 'react';
import { supabase } from '@/lib/supabase';
import { useAuth } from './AuthContext';
import type { Subscription } from '@/types/subscription';

interface SubscriptionContextType {
  subscription: Subscription | null;
  loading: boolean;
  isActive: boolean;
  createCheckoutSession: () => Promise<void>;
  openCustomerPortal: () => Promise<void>;
}

const SubscriptionContext = createContext<SubscriptionContextType | undefined>(undefined);

export const SubscriptionProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const { user } = useAuth();
  const [subscription, setSubscription] = useState<Subscription | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    if (!user) {
      setSubscription(null);
      setLoading(false);
      return;
    }

    // Fetch subscription
    const fetchSubscription = async () => {
      const { data, error } = await supabase
        .from('subscriptions')
        .select('*')
        .eq('user_id', user.id)
        .single();

      if (!error && data) {
        setSubscription(data);
      }
      setLoading(false);
    };

    fetchSubscription();

    // Subscribe to changes
    const subscription = supabase
      .channel('subscriptions')
      .on('postgres_changes', {
        event: '*',
        schema: 'public',
        table: 'subscriptions',
        filter: `user_id=eq.${user.id}`,
      }, fetchSubscription)
      .subscribe();

    return () => {
      subscription.unsubscribe();
    };
  }, [user]);

  const createCheckoutSession = async () => {
    if (!user) throw new Error('Not authenticated');

    const { data, error } = await supabase.functions.invoke('create-checkout-session', {
      body: { userId: user.id },
    });

    if (error) throw error;

    // Redirect to Stripe Checkout
    window.location.href = data.url;
  };

  const openCustomerPortal = async () => {
    if (!user) throw new Error('Not authenticated');

    const { data, error } = await supabase.functions.invoke('create-portal-session', {
      body: { userId: user.id },
    });

    if (error) throw error;

    window.location.href = data.url;
  };

  const isActive = subscription?.status === 'active';

  return (
    <SubscriptionContext.Provider
      value={{ subscription, loading, isActive, createCheckoutSession, openCustomerPortal }}
    >
      {children}
    </SubscriptionContext.Provider>
  );
};

export const useSubscription = () => {
  const context = useContext(SubscriptionContext);
  if (!context) {
    throw new Error('useSubscription must be used within SubscriptionProvider');
  }
  return context;
};
```

```typescript
// supabase/functions/stripe-webhook/index.ts
import { serve } from 'https://deno.land/std@0.168.0/http/server.ts';
import Stripe from 'https://esm.sh/stripe@12.0.0?target=deno';

const stripe = new Stripe(Deno.env.get('STRIPE_SECRET_KEY') || '', {
  apiVersion: '2023-10-16',
});

serve(async (req) => {
  const signature = req.headers.get('stripe-signature');
  const webhookSecret = Deno.env.get('STRIPE_WEBHOOK_SECRET');

  if (!signature || !webhookSecret) {
    return new Response('Missing signature or secret', { status: 400 });
  }

  try {
    const body = await req.text();
    const event = stripe.webhooks.constructEvent(body, signature, webhookSecret);

    // Handle subscription events
    switch (event.type) {
      case 'customer.subscription.created':
      case 'customer.subscription.updated':
        // Update subscription in Supabase
        break;
      case 'customer.subscription.deleted':
        // Mark subscription as canceled
        break;
    }

    return new Response(JSON.stringify({ received: true }), {
      headers: { 'Content-Type': 'application/json' },
    });
  } catch (err) {
    return new Response(`Webhook Error: ${err.message}`, { status: 400 });
  }
});
```

---

### TICKET-1105: ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 4-6æ™‚é–“
**ä¾å­˜**: TICKET-1102, TICKET-1103, TICKET-1104
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] localStorage â†’ Supabaseç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- [ ] å±¥æ­´ãƒ‡ãƒ¼ã‚¿ç§»è¡Œãƒ­ã‚¸ãƒƒã‚¯
- [ ] ç§»è¡ŒUIå®Ÿè£…ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å¾Œã®åˆå›ã®ã¿è¡¨ç¤ºï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] ç§»è¡Œå®Œäº†å¾Œã®localStorageå‰Šé™¤ã‚ªãƒ—ã‚·ãƒ§ãƒ³

**æˆæœç‰©**:
- `src/utils/dataMigration.ts`
- `src/components/Migration/MigrationPrompt.tsx`

**å®Ÿè£…ä¾‹**:
```typescript
// src/utils/dataMigration.ts
import { supabase } from '@/lib/supabase';
import { storage } from './storage';
import type { LoanHistory } from '@/types/loan';

export const migrateLocalStorageToSupabase = async (userId: string): Promise<void> => {
  try {
    // Get history from localStorage
    const localHistory = storage.getHistory();

    if (localHistory.length === 0) {
      console.log('No local history to migrate');
      return;
    }

    // Insert into Supabase
    const { error } = await supabase
      .from('loan_history')
      .insert(
        localHistory.map((item) => ({
          user_id: userId,
          ...item,
        }))
      );

    if (error) throw error;

    console.log(`Migrated ${localHistory.length} history items`);

    // Optionally clear localStorage after successful migration
    // storage.clearHistory();
  } catch (error) {
    console.error('Migration failed:', error);
    throw error;
  }
};
```

---

## Phase 12: èªè¨¼UIå®Ÿè£… â¬œ (2-3æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
TICKET-1201 (ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (2-3h)
    â†“
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1202 (LoginPage) ğŸ¤– (3-4h)
â”œâ”€ Agent 2: TICKET-1203 (SignUpPage) ğŸ¤– (3-4h)
â”œâ”€ Agent 3: TICKET-1204 (Paywall) ğŸ¤– (4-5h)
â””â”€ Agent 4: TICKET-1205 (UserProfile) ğŸ¤– (4-5h)
```

**åˆè¨ˆ**: 5ãƒã‚±ãƒƒãƒˆã€4ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1201: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ›´æ–°

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 2-3æ™‚é–“
**ä¾å­˜**: TICKET-1103
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] React Routeræ›´æ–°
- [ ] Protected Routeå®Ÿè£…
- [ ] èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- [ ] æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- [ ] AuthCallbackãƒšãƒ¼ã‚¸å®Ÿè£…ï¼ˆSocial Loginç”¨ï¼‰

**æˆæœç‰©**:
- æ›´æ–°ã•ã‚ŒãŸ `src/App.tsx`
- `src/components/Auth/ProtectedRoute.tsx`
- `src/pages/AuthCallback.tsx`

**å®Ÿè£…ä¾‹**:
```typescript
// src/components/Auth/ProtectedRoute.tsx
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '@/contexts/AuthContext';
import { useSubscription } from '@/contexts/SubscriptionContext';

interface ProtectedRouteProps {
  children: React.ReactNode;
  requiresSubscription?: boolean;
}

export const ProtectedRoute: React.FC<ProtectedRouteProps> = ({
  children,
  requiresSubscription = false,
}) => {
  const { user, loading: authLoading } = useAuth();
  const { isActive, loading: subLoading } = useSubscription();
  const location = useLocation();

  if (authLoading || subLoading) {
    return <div>Loading...</div>;
  }

  if (!user) {
    return <Navigate to="/login" state={{ from: location }} replace />;
  }

  if (requiresSubscription && !isActive) {
    return <Navigate to="/subscribe" replace />;
  }

  return <>{children}</>;
};
```

---

### TICKET-1202: ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸å®Ÿè£…

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 3-4æ™‚é–“
**ä¾å­˜**: TICKET-1201
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/pages/Login.tsx` ä½œæˆ
- [ ] Email/Passwordå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆReact Hook Form + Zodï¼‰
- [ ] Googleãƒ»Appleãƒ»LINE ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- [ ] ã€Œã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã€ãƒªãƒ³ã‚¯

**æˆæœç‰©**:
- `src/pages/Login.tsx`

**å®Ÿè£…ä¾‹**:
```typescript
// src/pages/Login.tsx
import { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';
import { useAuth } from '@/contexts/AuthContext';

const loginSchema = z.object({
  email: z.string().email('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),
  password: z.string().min(6, 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯6æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),
});

type LoginFormData = z.infer<typeof loginSchema>;

export const Login: React.FC = () => {
  const navigate = useNavigate();
  const { signIn, signInWithGoogle } = useAuth();
  const [error, setError] = useState<string | null>(null);

  const { register, handleSubmit, formState: { errors, isSubmitting } } = useForm<LoginFormData>({
    resolver: zodResolver(loginSchema),
  });

  const onSubmit = async (data: LoginFormData) => {
    try {
      setError(null);
      await signIn(data.email, data.password);
      navigate('/');
    } catch (err) {
      setError('ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
    }
  };

  const handleGoogleLogin = async () => {
    try {
      await signInWithGoogle();
    } catch (err) {
      setError('Googleãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 px-4">
      <div className="max-w-md w-full space-y-8">
        <div>
          <h2 className="text-3xl font-bold text-center">ãƒ­ã‚°ã‚¤ãƒ³</h2>
          <p className="mt-2 text-center text-gray-600">
            æœ‰æ–™æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„
          </p>
        </div>

        {error && (
          <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded">
            {error}
          </div>
        )}

        <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
          <div>
            <label htmlFor="email" className="block text-sm font-medium text-gray-700">
              ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
            </label>
            <input
              {...register('email')}
              type="email"
              className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
            />
            {errors.email && (
              <p className="mt-1 text-sm text-red-600">{errors.email.message}</p>
            )}
          </div>

          <div>
            <label htmlFor="password" className="block text-sm font-medium text-gray-700">
              ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
            </label>
            <input
              {...register('password')}
              type="password"
              className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
            />
            {errors.password && (
              <p className="mt-1 text-sm text-red-600">{errors.password.message}</p>
            )}
          </div>

          <button
            type="submit"
            disabled={isSubmitting}
            className="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700"
          >
            {isSubmitting ? 'ãƒ­ã‚°ã‚¤ãƒ³ä¸­...' : 'ãƒ­ã‚°ã‚¤ãƒ³'}
          </button>
        </form>

        <div className="relative">
          <div className="absolute inset-0 flex items-center">
            <div className="w-full border-t border-gray-300" />
          </div>
          <div className="relative flex justify-center text-sm">
            <span className="px-2 bg-gray-50 text-gray-500">ã¾ãŸã¯</span>
          </div>
        </div>

        <div className="space-y-3">
          <button
            onClick={handleGoogleLogin}
            className="w-full border border-gray-300 bg-white py-2 px-4 rounded-md hover:bg-gray-50"
          >
            Googleã§ãƒ­ã‚°ã‚¤ãƒ³
          </button>
        </div>

        <p className="text-center text-sm text-gray-600">
          ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯{' '}
          <Link to="/signup" className="text-blue-600 hover:underline">
            ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
          </Link>
        </p>
      </div>
    </div>
  );
};
```

---

### TICKET-1203: ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸å®Ÿè£…

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 3-4æ™‚é–“
**ä¾å­˜**: TICKET-1201
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/pages/SignUp.tsx` ä½œæˆ
- [ ] Email/Passwordå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆReact Hook Form + Zodï¼‰
- [ ] Social Loginã‚ªãƒ—ã‚·ãƒ§ãƒ³
- [ ] åˆ©ç”¨è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

**æˆæœç‰©**:
- `src/pages/SignUp.tsx`

**å®Ÿè£…ä¾‹**: TICKET-1202ã¨é¡ä¼¼ã®ãŸã‚çœç•¥

---

### TICKET-1204: Paywallå®Ÿè£…

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 4-5æ™‚é–“
**ä¾å­˜**: TICKET-1104
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/Subscription/Paywall.tsx` ä½œæˆ
- [ ] æœ‰æ–™æ©Ÿèƒ½ã®æ¡ˆå†…UI
- [ ] æ©Ÿèƒ½ä¸€è¦§è¡¨ç¤º
- [ ] ã€Œã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã€ãƒœã‚¿ãƒ³
- [ ] Stripe Checkoutã¸ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- [ ] ç„¡æ–™ç‰ˆæ©Ÿèƒ½ã¸ã®ãƒªãƒ³ã‚¯

**æˆæœç‰©**:
- `src/components/Subscription/Paywall.tsx`

**å®Ÿè£…ä¾‹**:
```typescript
// src/components/Subscription/Paywall.tsx
import { useNavigate } from 'react-router-dom';
import { useSubscription } from '@/contexts/SubscriptionContext';
import { CheckIcon } from '@heroicons/react/24/outline';

const features = [
  'ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³',
  'å®¶è¨ˆåæ”¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³',
  'è³‡ç”£é‹ç”¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³',
  'ä¿é™ºè¨­è¨ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³',
  'ç¹°ä¸Šè¿”æ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³',
  'è¤‡æ•°ãƒ­ãƒ¼ãƒ³æ¯”è¼ƒæ©Ÿèƒ½',
  'PDFå‡ºåŠ›ãƒ»å°åˆ·æ©Ÿèƒ½',
  'ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªå¯¾å¿œ',
];

export const Paywall: React.FC = () => {
  const navigate = useNavigate();
  const { createCheckoutSession } = useSubscription();

  const handleSubscribe = async () => {
    try {
      await createCheckoutSession();
    } catch (error) {
      console.error('Checkout error:', error);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4">
      <div className="max-w-2xl w-full bg-white rounded-lg shadow-lg p-8">
        <h2 className="text-3xl font-bold text-center mb-4">æœ‰æ–™ãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰</h2>
        <p className="text-center text-gray-600 mb-8">
          FPæ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ã€ã‚ˆã‚Šè©³ç´°ãªã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿæ–½
        </p>

        <div className="bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-8">
          <div className="flex items-baseline justify-center mb-4">
            <span className="text-5xl font-bold">Â¥980</span>
            <span className="text-gray-600 ml-2">/ æœˆ</span>
          </div>
          <p className="text-center text-sm text-gray-600">
            ã„ã¤ã§ã‚‚ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯èƒ½
          </p>
        </div>

        <div className="space-y-3 mb-8">
          {features.map((feature) => (
            <div key={feature} className="flex items-start">
              <CheckIcon className="h-6 w-6 text-green-500 mr-3 flex-shrink-0" />
              <span className="text-gray-700">{feature}</span>
            </div>
          ))}
        </div>

        <button
          onClick={handleSubscribe}
          className="w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 font-semibold text-lg"
        >
          ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹
        </button>

        <button
          onClick={() => navigate('/')}
          className="w-full mt-4 text-gray-600 hover:text-gray-800"
        >
          ç„¡æ–™ç‰ˆã‚’ä½¿ã„ç¶šã‘ã‚‹
        </button>
      </div>
    </div>
  );
};
```

---

### TICKET-1205: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸å®Ÿè£…

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 4-5æ™‚é–“
**ä¾å­˜**: TICKET-1104
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/pages/Profile.tsx` ä½œæˆ
- [ ] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±è¡¨ç¤º
- [ ] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
- [ ] ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³çŠ¶æ…‹è¡¨ç¤º
- [ ] Customer Portalãƒªãƒ³ã‚¯ï¼ˆã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»æ±ºæ¸ˆæƒ…å ±å¤‰æ›´ï¼‰
- [ ] ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³

**æˆæœç‰©**:
- `src/pages/Profile.tsx`

**å®Ÿè£…ä¾‹**:
```typescript
// src/pages/Profile.tsx
import { useAuth } from '@/contexts/AuthContext';
import { useSubscription } from '@/contexts/SubscriptionContext';

export const Profile: React.FC = () => {
  const { user, signOut } = useAuth();
  const { subscription, isActive, openCustomerPortal } = useSubscription();

  const handleLogout = async () => {
    try {
      await signOut();
      navigate('/');
    } catch (error) {
      console.error('Logout error:', error);
    }
  };

  return (
    <div className="container mx-auto px-4 py-8 max-w-2xl">
      <h1 className="text-3xl font-bold mb-8">ãƒã‚¤ãƒšãƒ¼ã‚¸</h1>

      <div className="bg-white rounded-lg shadow p-6 mb-6">
        <h2 className="text-xl font-semibold mb-4">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h2>
        <div className="space-y-3">
          <div>
            <label className="text-sm text-gray-600">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
            <p className="font-medium">{user?.email}</p>
          </div>
          <div>
            <label className="text-sm text-gray-600">ãƒ¦ãƒ¼ã‚¶ãƒ¼ID</label>
            <p className="font-mono text-sm">{user?.id}</p>
          </div>
        </div>
      </div>

      <div className="bg-white rounded-lg shadow p-6 mb-6">
        <h2 className="text-xl font-semibold mb-4">ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³</h2>
        {isActive ? (
          <div className="space-y-4">
            <div className="bg-green-50 border border-green-200 rounded-lg p-4">
              <p className="text-green-800 font-semibold">æœ‰æ–™ãƒ—ãƒ©ãƒ³ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼‰</p>
              <p className="text-sm text-gray-600 mt-1">
                æ¬¡å›æ›´æ–°æ—¥: {new Date(subscription?.current_period_end!).toLocaleDateString()}
              </p>
            </div>
            <button
              onClick={openCustomerPortal}
              className="text-blue-600 hover:underline text-sm"
            >
              æ±ºæ¸ˆæƒ…å ±ã®å¤‰æ›´ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«
            </button>
          </div>
        ) : (
          <div className="bg-gray-50 border border-gray-200 rounded-lg p-4">
            <p className="text-gray-800">ç„¡æ–™ãƒ—ãƒ©ãƒ³</p>
            <button
              onClick={() => navigate('/subscribe')}
              className="mt-2 text-blue-600 hover:underline text-sm"
            >
              æœ‰æ–™ãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
            </button>
          </div>
        )}
      </div>

      <button
        onClick={handleLogout}
        className="w-full border border-red-300 text-red-600 py-2 px-4 rounded-md hover:bg-red-50"
      >
        ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
      </button>
    </div>
  );
};
```

---

## Phase 13: ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ â¬œ (5-7æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1301 (ãƒ©ã‚¤ãƒ•ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†) ğŸ¤– (8h)
â”œâ”€ Agent 2: TICKET-1302 (åå…¥ãƒ»æ”¯å‡ºãƒ‡ãƒ¼ã‚¿) ğŸ¤– (6h)
â”œâ”€ Agent 3: TICKET-1303 (CFè¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³) ğŸ¤– (8h)
â””â”€ Agent 4: TICKET-1304 (ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³UI) ğŸ¤– (8h)
    â†“
TICKET-1305 (ã‚°ãƒ©ãƒ•) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (6h)
```

**åˆè¨ˆ**: 5ãƒã‚±ãƒƒãƒˆã€4ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1301: ãƒ©ã‚¤ãƒ•ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†æ©Ÿèƒ½

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8æ™‚é–“
**ä¾å­˜**: TICKET-1102
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/LifeEvent/LifeEventForm.tsx` ä½œæˆ
- [ ] `src/components/FP/LifeEvent/LifeEventList.tsx` ä½œæˆ
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—é¸æŠï¼ˆçµå©šãƒ»å‡ºç”£ãƒ»æ•™è‚²ãƒ»è»Šè³¼å…¥ãƒ»é€€è·ãªã©ï¼‰
- [ ] æ—¥ä»˜ãƒ»é‡‘é¡å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- [ ] CRUDæ“ä½œï¼ˆCreate, Read, Update, Deleteï¼‰
- [ ] Supabaseé€£æºï¼ˆ`life_events`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

**æˆæœç‰©**:
- `src/components/FP/LifeEvent/LifeEventForm.tsx`
- `src/components/FP/LifeEvent/LifeEventList.tsx`
- `src/hooks/useLifeEvents.ts`

---

### TICKET-1302: åå…¥ãƒ»æ”¯å‡ºãƒ‡ãƒ¼ã‚¿ç®¡ç†

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1102
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/LifePlan/IncomeForm.tsx` ä½œæˆ
- [ ] `src/components/FP/LifePlan/ExpenseForm.tsx` ä½œæˆ
- [ ] å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ï¼ˆåå…¥ãƒ»æ”¯å‡ºãƒ»è²¯è“„ï¼‰
- [ ] Supabaseé€£æº
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

**æˆæœç‰©**:
- `src/components/FP/LifePlan/IncomeForm.tsx`
- `src/components/FP/LifePlan/ExpenseForm.tsx`

---

### TICKET-1303: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8æ™‚é–“
**ä¾å­˜**: ãªã—ï¼ˆç‹¬ç«‹ï¼‰
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/utils/lifePlanCalculator.ts` ä½œæˆ
- [ ] å¹´æ¬¡CFè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
- [ ] è³‡ç”£æ®‹é«˜è¨ˆç®—
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆå½±éŸ¿åæ˜ 
- [ ] ãƒ†ã‚¹ãƒˆä½œæˆ

**æˆæœç‰©**:
- `src/utils/lifePlanCalculator.ts`
- `tests/unit/lifePlanCalculator.test.ts`

---

### TICKET-1304: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³UI

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 8æ™‚é–“
**ä¾å­˜**: TICKET-1301, TICKET-1302
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/LifePlan/Timeline.tsx` ä½œæˆ
- [ ] å¹´è¡¨ç¤ºï¼ˆæ¨ªè»¸ï¼‰
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ¼ã‚«ãƒ¼è¡¨ç¤º
- [ ] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ“ä½œï¼ˆãƒ›ãƒãƒ¼ãƒ»ã‚¯ãƒªãƒƒã‚¯ï¼‰
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

**æˆæœç‰©**:
- `src/components/FP/LifePlan/Timeline.tsx`

---

### TICKET-1305: ã‚°ãƒ©ãƒ•è¡¨ç¤ºï¼ˆRechartsï¼‰

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1303, TICKET-1304
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/LifePlan/CashFlowChart.tsx` ä½œæˆ
- [ ] Rechartsçµ±åˆ
- [ ] å¹´æ¬¡ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•
- [ ] è³‡ç”£æ®‹é«˜æ£’ã‚°ãƒ©ãƒ•
- [ ] ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ãƒ»ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—

**æˆæœç‰©**:
- `src/components/FP/LifePlan/CashFlowChart.tsx`

---

## Phase 14: å®¶è¨ˆåæ”¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ â¬œ (3-4æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1401 (åå…¥é …ç›®ç®¡ç†) ğŸ¤– (6h)
â”œâ”€ Agent 2: TICKET-1402 (æ”¯å‡ºé …ç›®ç®¡ç†) ğŸ¤– (6h)
â””â”€ Agent 3: TICKET-1403 (é›†è¨ˆè¨ˆç®—) ğŸ¤– (6h)
    â†“
TICKET-1404 (çµæœè¡¨ç¤º) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (6h)
```

**åˆè¨ˆ**: 4ãƒã‚±ãƒƒãƒˆã€3ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1401: åå…¥é …ç›®ç®¡ç†

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1102
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Household/IncomeItems.tsx` ä½œæˆ
- [ ] åå…¥ã‚«ãƒ†ã‚´ãƒªï¼ˆçµ¦ä¸ãƒ»è³ä¸ãƒ»å‰¯åå…¥ãƒ»å¹´é‡‘ãªã©ï¼‰
- [ ] æœˆæ¬¡ãƒ»å¹´æ¬¡å…¥åŠ›åˆ‡æ›¿
- [ ] CRUDæ“ä½œ
- [ ] Supabaseé€£æº

**æˆæœç‰©**:
- `src/components/FP/Household/IncomeItems.tsx`
- `src/hooks/useIncomeItems.ts`

---

### TICKET-1402: æ”¯å‡ºé …ç›®ç®¡ç†

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1102
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Household/ExpenseItems.tsx` ä½œæˆ
- [ ] æ”¯å‡ºã‚«ãƒ†ã‚´ãƒªï¼ˆé£Ÿè²»ãƒ»ä½å±…è²»ãƒ»å…‰ç†±è²»ãƒ»é€šä¿¡è²»ãªã©ï¼‰
- [ ] å›ºå®šè²»ãƒ»å¤‰å‹•è²»ã®åŒºåˆ¥
- [ ] CRUDæ“ä½œ
- [ ] Supabaseé€£æº

**æˆæœç‰©**:
- `src/components/FP/Household/ExpenseItems.tsx`
- `src/hooks/useExpenseItems.ts`

---

### TICKET-1403: å®¶è¨ˆåæ”¯é›†è¨ˆè¨ˆç®—

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: ãªã—ï¼ˆç‹¬ç«‹ï¼‰
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/utils/householdCalculator.ts` ä½œæˆ
- [ ] æœˆæ¬¡ãƒ»å¹´æ¬¡é›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯
- [ ] åæ”¯ãƒãƒ©ãƒ³ã‚¹è¨ˆç®—
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥é›†è¨ˆ
- [ ] ãƒ†ã‚¹ãƒˆä½œæˆ

**æˆæœç‰©**:
- `src/utils/householdCalculator.ts`
- `tests/unit/householdCalculator.test.ts`

---

### TICKET-1404: å®¶è¨ˆåæ”¯çµæœè¡¨ç¤º

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1401, TICKET-1402, TICKET-1403
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Household/Summary.tsx` ä½œæˆ
- [ ] æœˆæ¬¡ãƒ»å¹´æ¬¡ã‚µãƒãƒªãƒ¼è¡¨ç¤º
- [ ] å††ã‚°ãƒ©ãƒ•ï¼ˆåå…¥ãƒ»æ”¯å‡ºå†…è¨³ï¼‰
- [ ] åæ”¯ãƒãƒ©ãƒ³ã‚¹è¡¨ç¤º
- [ ] ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆCSVï¼‰

**æˆæœç‰©**:
- `src/components/FP/Household/Summary.tsx`

---

## Phase 15: è³‡ç”£é‹ç”¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ â¬œ (4-5æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1501 (è³‡ç”£é…åˆ†ç®¡ç†) ğŸ¤– (8h)
â”œâ”€ Agent 2: TICKET-1502 (é‹ç”¨è¨ˆç®—) ğŸ¤– (8h)
â””â”€ Agent 3: TICKET-1503 (ãƒªã‚¹ã‚¯åˆ†æ) ğŸ¤– (8h)
    â†“
TICKET-1504 (ã‚°ãƒ©ãƒ•è¡¨ç¤º) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (6h)
```

**åˆè¨ˆ**: 4ãƒã‚±ãƒƒãƒˆã€3ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1501: è³‡ç”£é…åˆ†ç®¡ç†

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8æ™‚é–“
**ä¾å­˜**: TICKET-1102
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Asset/AssetAllocation.tsx` ä½œæˆ
- [ ] è³‡ç”£ã‚¯ãƒ©ã‚¹é¸æŠï¼ˆæ ªå¼ãƒ»å‚µåˆ¸ãƒ»ä¸å‹•ç”£ãƒ»ç¾é‡‘ãªã©ï¼‰
- [ ] é…åˆ†æ¯”ç‡å…¥åŠ›ï¼ˆ%ï¼‰
- [ ] ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä½œæˆãƒ»ç·¨é›†
- [ ] Supabaseé€£æº

**æˆæœç‰©**:
- `src/components/FP/Asset/AssetAllocation.tsx`
- `src/hooks/useAssetAllocation.ts`

---

### TICKET-1502: è³‡ç”£é‹ç”¨è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8æ™‚é–“
**ä¾å­˜**: ãªã—ï¼ˆç‹¬ç«‹ï¼‰
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/utils/assetCalculator.ts` ä½œæˆ
- [ ] è¤‡åˆ©è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
- [ ] æœŸå¾…ãƒªã‚¿ãƒ¼ãƒ³è¨ˆç®—
- [ ] å¹´æ¬¡è³‡ç”£æ¨ç§»è¨ˆç®—
- [ ] ãƒ†ã‚¹ãƒˆä½œæˆ

**æˆæœç‰©**:
- `src/utils/assetCalculator.ts`
- `tests/unit/assetCalculator.test.ts`

---

### TICKET-1503: ãƒªã‚¹ã‚¯åˆ†ææ©Ÿèƒ½

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 8æ™‚é–“
**ä¾å­˜**: TICKET-1502
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/utils/riskAnalysis.ts` ä½œæˆ
- [ ] ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£è¨ˆç®—
- [ ] ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªè¨ˆç®—
- [ ] ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç°¡æ˜“ç‰ˆï¼‰
- [ ] ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢ç®—å‡º

**æˆæœç‰©**:
- `src/utils/riskAnalysis.ts`

---

### TICKET-1504: è³‡ç”£é‹ç”¨ã‚°ãƒ©ãƒ•è¡¨ç¤º

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1501, TICKET-1502, TICKET-1503
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Asset/AssetChart.tsx` ä½œæˆ
- [ ] è³‡ç”£æ¨ç§»æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•
- [ ] é…åˆ†æ¯”ç‡å††ã‚°ãƒ©ãƒ•
- [ ] ãƒªã‚¹ã‚¯ãƒ»ãƒªã‚¿ãƒ¼ãƒ³æ•£å¸ƒå›³
- [ ] Rechartsçµ±åˆ

**æˆæœç‰©**:
- `src/components/FP/Asset/AssetChart.tsx`

---

## Phase 16: ä¿é™ºè¨­è¨ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ â¬œ (3-4æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1601 (ä¿é™ºå•†å“ç®¡ç†) ğŸ¤– (6h)
â”œâ”€ Agent 2: TICKET-1602 (ä¿éšœé¡è¨ˆç®—) ğŸ¤– (6h)
â””â”€ Agent 3: TICKET-1603 (ä¿é™ºæ–™è¨ˆç®—) ğŸ¤– (6h)
    â†“
TICKET-1604 (ä¿é™ºè¨­è¨ˆçµæœè¡¨ç¤º) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (6h)
```

**åˆè¨ˆ**: 4ãƒã‚±ãƒƒãƒˆã€3ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1601: ä¿é™ºå•†å“ç®¡ç†

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1102
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Insurance/InsuranceProducts.tsx` ä½œæˆ
- [ ] ä¿é™ºç¨®é¡é¸æŠï¼ˆç”Ÿå‘½ãƒ»åŒ»ç™‚ãƒ»ãŒã‚“ãƒ»ä»‹è­·ãªã©ï¼‰
- [ ] ä¿éšœé¡å…¥åŠ›
- [ ] ä¿é™ºæ–™å…¥åŠ›
- [ ] CRUDæ“ä½œ

**æˆæœç‰©**:
- `src/components/FP/Insurance/InsuranceProducts.tsx`
- `src/hooks/useInsurance.ts`

---

### TICKET-1602: å¿…è¦ä¿éšœé¡è¨ˆç®—

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: ãªã—ï¼ˆç‹¬ç«‹ï¼‰
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/utils/insuranceCalculator.ts` ä½œæˆ
- [ ] éºæ—å¿…è¦ç”Ÿæ´»è²»è¨ˆç®—
- [ ] æ•™è‚²è³‡é‡‘è¨ˆç®—
- [ ] ä½å®…ãƒ­ãƒ¼ãƒ³æ®‹é«˜è€ƒæ…®
- [ ] å¿…è¦ä¿éšœé¡ç®—å‡º

**æˆæœç‰©**:
- `src/utils/insuranceCalculator.ts`

---

### TICKET-1603: ä¿é™ºæ–™ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1602
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] å¹´é½¢ãƒ»æ€§åˆ¥ã«ã‚ˆã‚‹ä¿é™ºæ–™è©¦ç®—
- [ ] ä¿é™ºæœŸé–“ã«ã‚ˆã‚‹ä¿é™ºæ–™å¤‰åŒ–
- [ ] ç·æ”¯æ‰•é¡è¨ˆç®—
- [ ] ä¿é™ºæ–™è² æ‹…ç‡è¨ˆç®—

**æˆæœç‰©**:
- æ›´æ–°ã•ã‚ŒãŸ `src/utils/insuranceCalculator.ts`

---

### TICKET-1604: ä¿é™ºè¨­è¨ˆçµæœè¡¨ç¤º

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 6æ™‚é–“
**ä¾å­˜**: TICKET-1601, TICKET-1602, TICKET-1603
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Insurance/InsuranceSummary.tsx` ä½œæˆ
- [ ] ä¿é™ºå•†å“ä¸€è¦§è¡¨ç¤º
- [ ] å¿…è¦ä¿éšœé¡ã¨ç¾åœ¨ã®ä¿éšœé¡æ¯”è¼ƒ
- [ ] ä¿é™ºæ–™ç·é¡è¡¨ç¤º
- [ ] ã‚°ãƒ©ãƒ•è¡¨ç¤ºï¼ˆä¿éšœé¡ãƒ»ä¿é™ºæ–™æ¨ç§»ï¼‰

**æˆæœç‰©**:
- `src/components/FP/Insurance/InsuranceSummary.tsx`

---

## Phase 17: è¿½åŠ æ©Ÿèƒ½å®Ÿè£… â¬œ (5-7æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1701 (ç¹°ä¸Šè¿”æ¸ˆ) ğŸ¤– (8-10h)
â”œâ”€ Agent 2: TICKET-1702 (ãƒ­ãƒ¼ãƒ³æ¯”è¼ƒ) ğŸ¤– (8-10h)
â””â”€ Agent 3: TICKET-1703 (PDFå‡ºåŠ›) ğŸ¤– (10-12h)
    â†“
TICKET-1704 (å°åˆ·æœ€é©åŒ–) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (6-8h)
```

**åˆè¨ˆ**: 4ãƒã‚±ãƒƒãƒˆã€3ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1701: ç¹°ä¸Šè¿”æ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8-10æ™‚é–“
**ä¾å­˜**: TICKET-102, TICKET-103
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/Prepayment/PrepaymentSimulator.tsx` ä½œæˆ
- [ ] ç¹°ä¸Šè¿”æ¸ˆãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠï¼ˆæœŸé–“çŸ­ç¸®ãƒ»è¿”æ¸ˆé¡è»½æ¸›ï¼‰
- [ ] ç¹°ä¸Šæ™‚æœŸãƒ»é‡‘é¡å…¥åŠ›
- [ ] åŠ¹æœè¨ˆç®—ï¼ˆåˆ©æ¯è»½æ¸›é¡ãƒ»æœŸé–“çŸ­ç¸®ï¼‰
- [ ] è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ

**æˆæœç‰©**:
- `src/components/FP/Prepayment/PrepaymentSimulator.tsx`
- `src/utils/prepaymentCalculator.ts`

---

### TICKET-1702: è¤‡æ•°ãƒ­ãƒ¼ãƒ³æ¯”è¼ƒæ©Ÿèƒ½

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 8-10æ™‚é–“
**ä¾å­˜**: TICKET-102, TICKET-103
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/components/FP/LoanComparison/ComparisonTable.tsx` ä½œæˆ
- [ ] æœ€å¤§5ä»¶ã®ãƒ­ãƒ¼ãƒ³æ¡ä»¶ã‚’ä¸¦åˆ—å…¥åŠ›
- [ ] æ¯”è¼ƒè¡¨ç¤ºï¼ˆæœˆã€…è¿”æ¸ˆé¡ãƒ»ç·è¿”æ¸ˆé¡ãƒ»åˆ©æ¯ç·é¡ï¼‰
- [ ] å·®åˆ†ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- [ ] CSV ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

**æˆæœç‰©**:
- `src/components/FP/LoanComparison/ComparisonTable.tsx`
- `src/hooks/useLoanComparison.ts`

---

### TICKET-1703: PDFå‡ºåŠ›æ©Ÿèƒ½

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 10-12æ™‚é–“
**ä¾å­˜**: ã™ã¹ã¦ã®Phase 13-16
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `src/utils/pdfGenerator.ts` ä½œæˆ
- [ ] jsPDF + html2canvas çµ±åˆ
- [ ] ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
- [ ] ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³PDFç”Ÿæˆ
- [ ] å®¶è¨ˆåæ”¯PDFç”Ÿæˆ
- [ ] è³‡ç”£é‹ç”¨PDFç”Ÿæˆ
- [ ] ä¿é™ºè¨­è¨ˆPDFç”Ÿæˆ

**æˆæœç‰©**:
- `src/utils/pdfGenerator.ts`
- `src/components/FP/Export/PDFExport.tsx`

**å®Ÿè£…ä¾‹**:
```typescript
// src/utils/pdfGenerator.ts
import jsPDF from 'jspdf';
import html2canvas from 'html2canvas';

export const generatePDF = async (elementId: string, filename: string): Promise<void> => {
  const element = document.getElementById(elementId);
  if (!element) throw new Error('Element not found');

  const canvas = await html2canvas(element, {
    scale: 2,
    logging: false,
  });

  const imgData = canvas.toDataURL('image/png');
  const pdf = new jsPDF('p', 'mm', 'a4');
  const imgWidth = 210; // A4 width in mm
  const imgHeight = (canvas.height * imgWidth) / canvas.width;

  pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
  pdf.save(filename);
};
```

---

### TICKET-1704: å°åˆ·ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæœ€é©åŒ–

**å„ªå…ˆåº¦**: ğŸŸ¢ ä¸­
**è¦‹ç©**: 6-8æ™‚é–“
**ä¾å­˜**: TICKET-1703
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] å°åˆ·ç”¨CSSã‚¯ãƒ©ã‚¹ä½œæˆï¼ˆ`@media print`ï¼‰
- [ ] ãƒšãƒ¼ã‚¸åŒºåˆ‡ã‚Šæœ€é©åŒ–
- [ ] ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼è¿½åŠ 
- [ ] ã‚«ãƒ©ãƒ¼/ãƒ¢ãƒã‚¯ãƒ­å¯¾å¿œ
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ

**æˆæœç‰©**:
- `src/styles/print.css`

---

## Phase 18: ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªå®Œæˆ â¬œ (5-7æ—¥)

### ä¸¦è¡Œå®Ÿè¡Œãƒãƒƒãƒ—

```
TICKET-1801 (Capacitoræ›´æ–°) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (4-6h)
    â†“
ä¸¦åˆ—å®Ÿè¡Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1ï¼‰:
â”œâ”€ Agent 1: TICKET-1802 (ãƒ—ãƒ©ã‚°ã‚¤ãƒ³çµ±åˆ) ğŸ¤– (8-10h)
â””â”€ Agent 2: TICKET-1803 (ãƒã‚¤ãƒ†ã‚£ãƒ–UI) ğŸ¤– (8-10h)
    â†“
TICKET-1804 (ã‚¹ãƒˆã‚¢ç”³è«‹æº–å‚™) - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (8-10h)
```

**åˆè¨ˆ**: 4ãƒã‚±ãƒƒãƒˆã€2ãƒã‚±ãƒƒãƒˆä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

### TICKET-1801: Capacitorè¨­å®šæ›´æ–°

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 4-6æ™‚é–“
**ä¾å­˜**: Phase 11-17å®Œæˆ
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `capacitor.config.ts` æ›´æ–°
- [ ] App IDãƒ»App Name æ›´æ–°
- [ ] Permissionsè¨­å®šï¼ˆã‚«ãƒ¡ãƒ©ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãªã©ï¼‰
- [ ] Splash Screenè¨­å®š
- [ ] App Iconè¨­å®š

**æˆæœç‰©**:
- æ›´æ–°ã•ã‚ŒãŸ `capacitor.config.ts`
- `resources/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆã‚¢ã‚¤ã‚³ãƒ³ãƒ»Splashç”»åƒï¼‰

---

### TICKET-1802: Capacitorãƒ—ãƒ©ã‚°ã‚¤ãƒ³çµ±åˆ

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8-10æ™‚é–“
**ä¾å­˜**: TICKET-1801
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] `@capacitor/filesystem` çµ±åˆï¼ˆPDFä¿å­˜ï¼‰
- [ ] `@capacitor/share` çµ±åˆï¼ˆSNSå…±æœ‰ï¼‰
- [ ] `@capacitor/status-bar` çµ±åˆ
- [ ] `@capacitor/keyboard` çµ±åˆ
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ©ãƒƒãƒ‘ãƒ¼ä½œæˆ

**æˆæœç‰©**:
- `src/hooks/useFilesystem.ts`
- `src/hooks/useShare.ts`

---

### TICKET-1803: ãƒã‚¤ãƒ†ã‚£ãƒ–UIæœ€é©åŒ–

**å„ªå…ˆåº¦**: ğŸŸ¡ é«˜
**è¦‹ç©**: 8-10æ™‚é–“
**ä¾å­˜**: TICKET-1801
**æ‹…å½“**: ğŸ¤– **Subagentæ¨å¥¨**

**ã‚¿ã‚¹ã‚¯**:
- [ ] iOS Safe Areaå¯¾å¿œ
- [ ] Android Material Designå¯¾å¿œ
- [ ] ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆ
- [ ] ãƒãƒ—ãƒ†ã‚£ãƒƒã‚¯ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- [ ] ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–

**æˆæœç‰©**:
- æ›´æ–°ã•ã‚ŒãŸå„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

---

### TICKET-1804: ã‚¹ãƒˆã‚¢ç”³è«‹æº–å‚™

**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
**è¦‹ç©**: 8-10æ™‚é–“
**ä¾å­˜**: TICKET-1802, TICKET-1803
**æ‹…å½“**: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] App Storeç”¨ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä½œæˆï¼ˆ5.5", 6.5"ï¼‰
- [ ] Google Playç”¨ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä½œæˆï¼ˆPhone, 7", 10"ï¼‰
- [ ] ã‚¢ãƒ—ãƒªèª¬æ˜æ–‡ä½œæˆï¼ˆæ—¥æœ¬èªãƒ»è‹±èªï¼‰
- [ ] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼URLè¨­å®š
- [ ] åˆ©ç”¨è¦ç´„URLè¨­å®š
- [ ] ã‚µãƒãƒ¼ãƒˆURLè¨­å®š
- [ ] Androidãƒªãƒªãƒ¼ã‚¹APK/AABä½œæˆ
- [ ] iOS App Store Connectè¨­å®š

**æˆæœç‰©**:
- `docs/STORE_LISTING.md`
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¸€å¼
- ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ï¼ˆAPK/AABï¼‰

---

## ä¸¦è¡Œå®Ÿè¡Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

å„Phaseã§ä¸¦è¡Œå®Ÿè¡Œã‚’è¡Œã†éš›ã®ã‚³ãƒãƒ³ãƒ‰ä¾‹ï¼š

### Phase 11ã®ä¸¦è¡Œå®Ÿè¡Œä¾‹

```bash
# ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã®æ“ä½œ

# Step 1: TICKET-1101ã‚’å®Œäº†
# Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

# Step 2: ä¸¦è¡Œå®Ÿè¡Œï¼ˆ3ã¤ã®ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•ï¼‰
# 1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§3ã¤ã®Task toolã‚’å‘¼ã³å‡ºã™
```

**Task tool invocation 1:**
```
subagent_type: general-purpose
description: Implement DB schema
prompt: Phase 11ã®TICKET-1102ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

ã‚¿ã‚¹ã‚¯: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãƒ»å®Ÿè£…

è¦ä»¶:
- supabase/migrations/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆSQLï¼ˆprofiles, subscriptions, life_plans, life_events, cash_flows, ãªã©ï¼‰
- Row Level Security (RLS) ãƒãƒªã‚·ãƒ¼è¨­å®š
- updated_at ãƒˆãƒªã‚¬ãƒ¼ä½œæˆ
- TypeScriptå‹å®šç¾©ç”Ÿæˆï¼ˆsrc/types/supabase.tsï¼‰

å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: docs/TICKETS_FP.md ã® TICKET-1102ã‚»ã‚¯ã‚·ãƒ§ãƒ³

æˆæœç‰©:
- supabase/migrations/20250101000000_initial_schema.sql
- src/types/supabase.ts
```

**Task tool invocation 2:**
```
subagent_type: general-purpose
description: Implement Supabase Auth
prompt: Phase 11ã®TICKET-1103ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

ã‚¿ã‚¹ã‚¯: Supabaseèªè¨¼çµ±åˆ

è¦ä»¶:
- AuthContextä½œæˆï¼ˆsrc/contexts/AuthContext.tsxï¼‰
- useAuth hookä½œæˆï¼ˆsrc/hooks/useAuth.tsï¼‰
- Email/Passwordèªè¨¼å®Ÿè£…
- Social Loginè¨­å®šï¼ˆGoogle, Apple, LINEï¼‰
- Login/SignUpãƒšãƒ¼ã‚¸å®Ÿè£…
- èªè¨¼çŠ¶æ…‹æ°¸ç¶šåŒ–

å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: docs/TICKETS_FP.md ã® TICKET-1103ã‚»ã‚¯ã‚·ãƒ§ãƒ³

æˆæœç‰©:
- src/contexts/AuthContext.tsx
- src/hooks/useAuth.ts
- src/pages/Login.tsx
- src/pages/SignUp.tsx
```

**Task tool invocation 3:**
```
subagent_type: general-purpose
description: Implement Stripe integration
prompt: Phase 11ã®TICKET-1104ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

ã‚¿ã‚¹ã‚¯: Stripeçµ±åˆ

è¦ä»¶:
- Stripeã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–ï¼ˆsrc/lib/stripe.tsï¼‰
- SubscriptionContextä½œæˆï¼ˆsrc/contexts/SubscriptionContext.tsxï¼‰
- Stripe Checkoutå®Ÿè£…
- Webhookè¨­å®šï¼ˆsupabase/functions/stripe-webhook/index.tsï¼‰
- Customer Portalçµ±åˆ

å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: docs/TICKETS_FP.md ã® TICKET-1104ã‚»ã‚¯ã‚·ãƒ§ãƒ³

æˆæœç‰©:
- src/lib/stripe.ts
- src/contexts/SubscriptionContext.tsx
- src/hooks/useSubscription.ts
- supabase/functions/stripe-webhook/index.ts
```

---

## é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

å„ãƒã‚±ãƒƒãƒˆå®Œäº†æ™‚ã«ä»¥ä¸‹ã‚’æ›´æ–°ï¼š

1. **ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆTICKETS_FP.mdï¼‰**ã®è©²å½“ãƒã‚±ãƒƒãƒˆã« âœ… ãƒãƒ¼ã‚¯
2. **TICKETS_SUMMARY.md** ã®Phaseé€²æ—ã‚’æ›´æ–°
3. **Git commit** ã§ãƒã‚±ãƒƒãƒˆç•ªå·ã‚’æ˜è¨˜

```bash
git commit -m "feat: TICKET-1301 ãƒ©ã‚¤ãƒ•ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†æ©Ÿèƒ½å®Ÿè£…"
```

---

## æ¨å¥¨äº‹é …

### ä¸¦è¡Œé–‹ç™ºã®åŠ¹ç‡åŒ–

1. **Phaseé–‹å§‹æ™‚ã«å…¨ä¸¦åˆ—ãƒã‚±ãƒƒãƒˆã‚’ä¸€åº¦ã«èµ·å‹•**
   - 1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¤‡æ•°ã®Task toolã‚’å‘¼ã³å‡ºã™
   - ä¾å­˜é–¢ä¿‚ã®ãªã„ãƒã‚±ãƒƒãƒˆã®ã¿ä¸¦åˆ—åŒ–

2. **å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æ˜ç¢ºãªæˆæœç‰©ã‚’æŒ‡ç¤º**
   - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåã€é–¢æ•°åã‚’å…·ä½“çš„ã«æŒ‡å®š
   - å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ˜è¨˜ï¼ˆdocs/TICKETS_FP.mdï¼‰

3. **çµ±åˆä½œæ¥­ã¯ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§å®Ÿæ–½**
   - ä¸¦åˆ—ãƒã‚±ãƒƒãƒˆå®Œäº†å¾Œã€çµ±åˆãƒ»ãƒ†ã‚¹ãƒˆãƒ»æœ€çµ‚èª¿æ•´

4. **Phaseå®Œäº†æ™‚ã«ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**
   - `npm run test -- --run`
   - `npm run type-check`
   - `npm run build`

---

**æœ€çµ‚æ›´æ–°**: 2025-10-20

**ç·è¦‹ç©**: 238-283æ™‚é–“ï¼ˆ10-12é€±é–“ï¼‰

**ä¸¦è¡Œé–‹ç™ºåŠ¹ç‡**: 76%ã®ãƒã‚±ãƒƒãƒˆãŒä¸¦åˆ—å®Ÿè¡Œå¯èƒ½
