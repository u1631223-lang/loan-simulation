# 住宅ローン電卓 - 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
住宅ローン電卓（Loan Calculator）

### 1.2 目的
住宅営業担当者が使用するローン計算ツールをデジタル化し、物理電卓の持ち運びを不要にする。
スマートフォンとPCの両方で使用可能なクロスプラットフォーム対応のWebアプリケーションを提供する。

### 1.3 背景
- 住宅営業の現場で物理電卓の持ち運びが負担となっている
- 顧客との商談時にスマホやPCで即座に計算・提示したい
- 実際の電卓と同様の使用感を維持したい

### 1.4 ターゲットユーザー
- 住宅営業担当者
- 不動産仲介業者
- ファイナンシャルプランナー

---

## 2. 機能要件

### 2.1 ローン計算機能

#### 2.1.1 基本計算機能
- **借入金額の入力**: 数値入力（最大10桁程度）
- **返済期間の設定**: 年数・月数での指定
- **金利の入力**: 年利率（小数点対応）
- **返済方式の選択**:
  - 元利均等返済
  - 元金均等返済

#### 2.1.2 計算結果の表示
- 月々の返済額
- 総返済額
- 利息総額
- 返済計画表（月ごとの内訳）

#### 2.1.3 ボーナス払い機能
- ボーナス返済の有無を選択
- ボーナス月の指定（年2回）
- ボーナス返済額の設定
- ボーナス併用時の月々返済額計算

#### 2.1.4 詳細計算機能
- 繰上返済シミュレーション（オプション）
- 金利変動シミュレーション（オプション）
- 借入可能額の逆算（オプション）

### 2.2 履歴管理機能

#### 2.2.1 計算履歴の保存
- 直近の計算結果を自動保存（最大10〜20件程度）
- ブラウザのlocalStorageを使用
- ログイン機能は不要

#### 2.2.2 履歴の操作
- 履歴一覧の表示
- 履歴からの再読み込み
- 履歴の個別削除
- 履歴の全削除

#### 2.2.3 データの保持期間
- ブラウザキャッシュが消えるまで保持
- 顧客ごとの長期保存は不要

### 2.3 入力インターフェース

#### 2.3.1 テンキー入力
- 0〜9の数字ボタン
- 小数点（.）ボタン
- クリア（C）ボタン
- バックスペース（←）ボタン
- 四則演算ボタン（必要に応じて）

#### 2.3.2 キーボード入力対応
- PCでの数字キー入力（テンキー・メインキーボード両対応）
- Enterキーで計算実行
- Escapeキーでクリア
- BackspaceキーでDelete

#### 2.3.3 スマホキーボード対応
- ソフトウェアキーボードからの数値入力
- タップ操作との併用可能

---

## 3. 非機能要件

### 3.1 パフォーマンス
- 計算結果の表示: 1秒以内
- 画面遷移: 即座（100ms以内）
- アプリ起動時間: 2秒以内

### 3.2 レスポンシブデザイン
- スマートフォン対応（iOS Safari, Android Chrome）
- タブレット対応
- デスクトップPC対応（Chrome, Firefox, Safari, Edge）
- 画面サイズに応じた最適なレイアウト

### 3.3 操作性
- 実際の電卓に近い操作感
- タップ・クリック時のフィードバック
- 誤操作防止の配慮
- 直感的なUI

### 3.4 信頼性
- 計算精度の保証（金融計算として適切な精度）
- エラーハンドリング（不正な入力の検証）
- データ損失の防止

### 3.5 セキュリティ
- 個人情報の保存なし
- 外部サーバーへのデータ送信なし
- ローカルストレージのみ使用

### 3.6 アクセシビリティ
- 大きめのタップ領域（最小44x44px）
- 見やすいフォントサイズ
- 高コントラストのカラースキーム

---

## 4. UI/UX要件

### 4.1 画面構成

#### 4.1.1 メイン画面
```
+----------------------------------+
|         ローン電卓               |
+----------------------------------+
| 借入金額:    [表示エリア]        |
| 返済期間:    [  ] 年 [  ] ヶ月   |
| 金利:        [  ] %              |
| 返済方式:    ○元利均等 ○元金均等 |
| ボーナス払い: □あり              |
+----------------------------------+
|        [計算結果表示エリア]      |
|  月々返済額: XXXX円              |
|  総返済額:   XXXX円              |
|  利息総額:   XXXX円              |
+----------------------------------+
|     [  7  ][  8  ][  9  ]       |
|     [  4  ][  5  ][  6  ]       |
|     [  1  ][  2  ][  3  ]       |
|     [  .  ][  0  ][ ← ]         |
|     [  C  ][   計算   ]          |
+----------------------------------+
|  [履歴] [詳細] [設定]            |
+----------------------------------+
```

#### 4.1.2 履歴画面
- 計算履歴のリスト表示
- 各履歴項目に日時・金額を表示
- タップで再読み込み

#### 4.1.3 詳細結果画面
- 返済計画表（月別）
- グラフ表示（元金・利息の推移）

### 4.2 デザイン方針
- シンプルで見やすいデザイン
- ビジネスシーンに適した落ち着いた色調
- ボタンは大きく、押しやすく
- 電卓らしいグリッドレイアウト

### 4.3 カラースキーム
- プライマリカラー: ブルー系（信頼感）
- アクセントカラー: グリーン系（計算ボタン）
- 背景色: ホワイト/ライトグレー
- テキスト: ダークグレー/ブラック

### 4.4 フォント
- 数字: Roboto, SF Pro, Noto Sans JP（視認性重視）
- 日本語: Noto Sans JP, Hiragino Sans, Yu Gothic

---

## 5. 技術要件

### 5.1 プラットフォーム
- Webアプリケーション（ブラウザベース）
- 将来的にAndroid/iOSアプリ化可能な構成

### 5.2 対応環境
- iOS 14以降（Safari）
- Android 8以降（Chrome）
- デスクトップブラウザ（最新版）

### 5.3 データ保存
- フロントエンドのみ（バックエンド不要）
- localStorage使用
- データベース不要

### 5.4 オフライン対応
- 今回は不要（将来的にPWA化を検討）

---

## 6. 制約事項

### 6.1 スコープ外
- ユーザーアカウント・ログイン機能
- 顧客データの永続的な保存
- サーバーサイド処理
- 複数デバイス間のデータ同期
- オフライン動作（初版では不要）

### 6.2 前提条件
- インターネット接続環境（初回アクセス時）
- モダンブラウザの使用

---

## 7. 成功指標

### 7.1 機能的指標
- すべての計算機能が正確に動作すること
- PC・スマホの両方で快適に操作できること
- 計算結果が即座に表示されること

### 7.2 ユーザー体験指標
- 物理電卓と同等以上の使いやすさ
- 商談中にスムーズに操作できること
- 初見でも直感的に使用できること

---

## 8. 今後の拡張可能性

### 8.1 Phase 2 候補機能
- PWA対応（オフライン動作）
- 印刷・PDF出力機能
- 複数プランの比較機能
- 金融機関ごとの金利データベース

### 8.2 Phase 3 候補機能
- ネイティブアプリ版リリース（App Store / Google Play）
- 顧客データ管理機能（オプション）
- クラウド同期機能（オプション）

---

## 付録

### A. 用語集
- **元利均等返済**: 毎月の返済額（元金+利息）が一定の返済方式
- **元金均等返済**: 毎月の元金返済額が一定の返済方式
- **繰上返済**: 通常の返済とは別に元金を返済すること

### B. 参考資料
- 住宅金融支援機構の計算方式
- 一般的な金融電卓の仕様

---

**作成日**: 2025-10-12
**バージョン**: 1.0
**ステータス**: 承認待ち
